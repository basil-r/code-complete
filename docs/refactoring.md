### Рефакторинг

#### Причини виконання рефакторингу ("запахи")

- Код повторюється.
- Метод занадто великий.
- Цикл занадто великий або надто глибоко вкладений в інші цикли.
- Клас має погану зв'язність.
- Інтерфейс класу не формує узгоджену абстракцію.
- Метод приймає дуже багато параметрів.
- Окремі частини класу змінюються незалежно від інших частин.
- При зміні програми потрібно паралельно змінювати кілька класів.
- Ви повинні змінити кілька ієрархій успадкування паралельно.
- Вам доводиться паралельно змінювати декілька блоків _case_.
- Споріднені елементи даних, що використовуються разом, не організовані в класи.
- Метод використовує більше елементів іншого класу, ніж свого власного.
- Елементарний тип даних перевантажений.
- Клас має надто обмежену функціональність.
- Дані, що передаються в метод лише для того, щоб він передав їх іншому методу.
- Об'єкт посередник нічого не робить.
- Один клас занадто багато знає про інший клас.
- Метод має невдале ім'я.
- Дані-члени класу зроблені відкритими.
- Підклас використовує лише малу частку методів своїх предків.
- Складний код пояснюється за допомогою коментарів.
- Код містить глобальні змінні.
- Перед викликом методу виконується підготовчий код (після виклику методу виконується код "прибирання").
- Програма містить код, який може коли-небудь знадобитися.

#### Правила виконання рефакторингу

- Знайдіть спосіб повернутися, за потреби, до початкового коду.
- Прагніть обмежити обсяг окремих видів рефакторингу.
- Виконуйте окремі види рефакторингу по одному за раз.
- Виконуйте регресивне тестування.
- Створюйте додаткові тести.
- Виконуйте огляди змін.

#### Стратегії рефакторингу

- Виконуйте рефакторинг під час створення нових методів, нових класів.
- Виконуйте рефакторинг при виправленні дефекту.
- Виконуйте рефакторинг модулів, схильних до помилок, та складних модулів.
- Під час супроводу програми покращуйте фрагменти, до яких торкаєтесь.
- Визначте інтерфейс (шар абстракції) між акуратним і поганим кодом; і поступово перемістіть поганий код на інший бік цього інтерфейсу.
